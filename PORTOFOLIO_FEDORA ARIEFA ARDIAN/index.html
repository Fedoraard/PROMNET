<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portofolio Fedora</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=" rel="stylesheet">
</head>
<body>
  <!-- Navbar -->
  <nav>
    <div class="wrapper">
      <div class="logo">
        <img src="/images/logofromS-removebg-preview.png" alt="Logo Fedora">
      </div>
      <div class="menu">
        <ul>
          <li><a href="index.html" class="active">Home</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="kontak.html">Contact</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero">
    <div class="hero-content">
      <h2>Selamat Datang di Website</h2>
      <h3>Fedora Ariefa Ardian</h3>
      <p>Web Developer | Designer | Freelancer</p>
      <a href="/moreAbout.html" class="btn">More About Me</a>
    </div>
  </section>

  <!-- Statistic -->
  <section id="statistic">
    <div class="wrapper">
      <div class="box">
        <h3>5+</h3>
        <p>Organisasi</p>
      </div>
      <div class="box">
        <h3>27+</h3>
        <p>Kepanitiaan</p>
      </div>
      <div class="box">
        <h3>1+</h3>
        <p>Best Staff</p>
      </div>
    </div>
  </section>


  <script>
  // Scroll animation untuk statistic
  const boxes = document.querySelectorAll('#statistic .box');
  window.addEventListener('scroll', () => {
    const triggerBottom = window.innerHeight * 0.8;
    boxes.forEach(box => {
      const boxTop = box.getBoundingClientRect().top;
      if (boxTop < triggerBottom) {
        box.classList.add('show');
      }
    });
  });
</script>

<script>
  // Animasi progress bar saat section terlihat
  const skillsSection = document.getElementById("skills");
  const progressBars = document.querySelectorAll(".progress-bar");

  function showProgress() {
    progressBars.forEach(bar => {
      const value = bar.getAttribute("data-skill");
      bar.style.width = value;
    });
  }

  // IntersectionObserver biar animasi jalan saat scroll
  let observer = new IntersectionObserver(entries => {
    if (entries[0].isIntersecting) {
      showProgress();
      observer.disconnect(); // animasi jalan sekali aja
    }
  }, { threshold: 0.5 });

  observer.observe(skillsSection);
</script>


  <!-- Tambahkan ini di tempat yang sesuai di HTML (di bawah section statistic) -->
<section id="skills">
  <div class="wrapper">
    <h2>My Skills</h2>

    <div class="skill-box">
      <p>HTML</p>
      <div class="progress">
        <div class="progress-bar html" data-skill="90%">90%</div>
      </div>
    </div>

    <div class="skill-box">
      <p>CSS</p>
      <div class="progress">
        <div class="progress-bar css" data-skill="80%">80%</div>
      </div>
    </div>

    <div class="skill-box">
      <p>JavaScript</p>
      <div class="progress">
        <div class="progress-bar js" data-skill="70%">70%</div>
      </div>
    </div>
  </div>
</section>

<script>
  (function () {
    const skillsSection = document.getElementById('skills');
    const progressBars = document.querySelectorAll('#skills .progress-bar');

    function showProgress() {
      progressBars.forEach(bar => {
        const target = bar.getAttribute('data-skill') || bar.textContent.trim();
        // dukung format "90" atau "90%"
        const value = String(target).trim();
        const widthValue = value.endsWith('%') ? value : (value + '%');
        bar.style.width = widthValue;
        // optional: set teks di tengah (jika mau update)
        bar.textContent = widthValue;
        console.log('Progress animate to', widthValue);
      });
    }


    if (!skillsSection || progressBars.length === 0) {
      console.warn('Skills section atau progress-bar tidak ditemukan. Periksa id="skills" dan elemen dengan class .progress-bar');
      return;
    }


    if ('IntersectionObserver' in window) {
      const observer = new IntersectionObserver((entries, obs) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            showProgress();
            obs.unobserve(entry.target); // jalankan sekali saja
          }
        });
      }, { threshold: 0.4 }); // 40% visible

      observer.observe(skillsSection);
    } else {
      // Fallback: jalankan saat scroll jika browser lama
      function scrollHandler() {
        const rect = skillsSection.getBoundingClientRect();
        const winH = window.innerHeight || document.documentElement.clientHeight;
        if (rect.top < winH * 0.8) {
          showProgress();
          window.removeEventListener('scroll', scrollHandler);
        }
      }
      window.addEventListener('scroll', scrollHandler);
      // cek langsung juga (jika sudah terlihat)
      scrollHandler();
    }
  })();
</script>


  <!-- Footer -->
  <footer id="footer">
    <p>&copy; 2025 Fedora Ariefa Ardian | All Rights Reserved</p>
  </footer>

</body>
</html>
